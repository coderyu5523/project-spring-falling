<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
    <link rel="stylesheet" href="/css/current-playlist.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
{{>layout/header}}

<div class="chart">
    <div class="chart-tags">
        <ul>
            <li id="tab1" class="active-tab">FLO 차트</li>
            <li id="tab2">해외 소셜 차트</li>
            <li id="tab3">국내 발라드</li>
            <li id="tab4">해외 팝</li>
            <li id="tab5">국내 댄스/일렉</li>
            <li id="tab6">국내 알앤비</li>
            <li id="tab7">국내 힙합</li>
            <li id="tab8">트로트</li>
            <li id="tab9">해외 알앤비</li>
            <li id="tab10">해외 힙합</li>
            <li id="tab11">OST/BGM</li>
            <li id="tab12">키즈</li>
            <li id="tab13">국내 인디</li>
            <li id="tab14">클래식</li>
            <li id="tab15">뉴에이지</li>
            <li id="tab16">국내 팝/어쿠스틱</li>
            <li id="tab17">해외 일렉트로닉</li>
            <li id="tab18">CCM</li>
        </ul>
    </div>
    <div id="content1" class="chart-main tab-content active-content">
        <div class="chart-header">
            <h3>FLO 차트</h3>
            <div>▷ 전체듣기</div>
        </div>
        <table class="chart-main-table">
            <tr class="chart-main-table-header">
                <th><input type="checkbox"></th>
                <th>순위</th>
                <th>곡/앨범</th>
                <th>아티스트</th>
                <th>듣기</th>
                <th>재생목록</th>
                <th>내 리스트</th>
                <th>더보기</th>
            </tr>
            {{#all.mainChart}}
                <tr class="chart-main-table-body">
                    <td><input type="checkbox" value="{{songId}}"></td>
                    <td>{{index}}</td>
                    <td>
                        <a href="/albums/{{albumId}}/list">
                            <div class="chart-main-table-body-img">
                                <img class="chart-img" src="{{coverImg}}" alt="{{title}}">
                                <span>
                                    <div>{{title}}</div>
                                    <div class="chart-album-name">{{albumTitle}}</div>
                                </span>
                            </div>
                        </a>
                    </td>
                    <td><a href="/artists/{{artistId}}/songs">{{artistName}}</a></td>
                    <td>
                        <a href="#" class="play-btn" data-songId="{{songId}}" data-index="{{index}}" data-title="{{title}}" data-artist="{{artistName}}" data-cover="{{coverImg}}" data-music="{{musicFile}}">
                            <i class="fa-solid fa-play"></i>
                        </a>
                    </td>
                    <td><a href="#"><i class="fa-solid fa-list-ul"></i></a></td>
                    <td><a href="#"><i class="fa-solid fa-folder-plus"></i></a></td>
                    <td><a href="#"><i class="fa-solid fa-ellipsis-vertical"></i></a></td>
                </tr>
            {{/all.mainChart}}
        </table>
        <div class="chart-more-button" id="load">
            더보기 <i class="fa-solid fa-chevron-down"></i>
        </div>
    </div>

    <div id="content2" class="chart-main tab-content">
        <div class="chart-header">
            <h3>해외 소셜 차트</h3>
            <div>▷ 전체듣기</div>
        </div>
        <table class="chart-main-table">
            <tr class="chart-main-table-header">
                <th><input type="checkbox"></th>
                <th>순위</th>
                <th>곡/앨범</th>
                <th>아티스트</th>
                <th>듣기</th>
                <th>재생목록</th>
                <th>내 리스트</th>
                <th>더보기</th>
            </tr>
            {{#all.globalChart}}
                <tr class="chart-main-table-body">
                    <td><input type="checkbox" value="{{songId}}"></td>
                    <td>{{index}}</td>
                    <td>
                        <a href="/albums/{{albumId}}/list">
                            <div class="chart-main-table-body-img">
                                <img class="chart-img" src="{{coverImg}}" alt="{{title}}">
                                <span>
                                    <div>{{title}}</div>
                                    <div class="chart-album-name">{{albumTitle}}</div>
                                </span>
                            </div>
                        </a>
                    </td>
                    <td><a href="/artists/{{artistId}}/songs">{{artistName}}</a></td>
                    <td>
                        <a href="#" class="play-btn" data-songId="{{songId}}" data-index="{{index}}" data-title="{{title}}" data-artist="{{artistName}}" data-cover="{{coverImg}}" data-music="{{musicFile}}">
                            <i class="fa-solid fa-play"></i>
                        </a>
                    </td>
                    <td><a href="#"><i class="fa-solid fa-list-ul"></i></a></td>
                    <td><a href="#"><i class="fa-solid fa-folder-plus"></i></a></td>
                    <td><a href="#"><i class="fa-solid fa-ellipsis-vertical"></i></a></td>
                </tr>
            {{/all.globalChart}}
        </table>
        <div class="chart-more-button" id="load">
            더보기 <i class="fa-solid fa-chevron-down"></i>
        </div>
    </div>

    <div id="content3" class="chart-main tab-content">
        <div class="chart-header">
            <h3>국내 발라드 차트</h3>
            <div>▷ 전체듣기</div>
        </div>
        <table class="chart-main-table">
            <tr class="chart-main-table-header">
                <th><input type="checkbox"></th>
                <th>순위</th>
                <th>곡/앨범</th>
                <th>아티스트</th>
                <th>듣기</th>
                <th>재생목록</th>
                <th>내 리스트</th>
                <th>더보기</th>
            </tr>
            {{#all.domesticChart}}
                <tr class="chart-main-table-body">
                    <td><input type="checkbox" value="{{songId}}"></td>
                    <td>{{index}}</td>
                    <td>
                        <a href="/albums/{{albumId}}/list">
                            <div class="chart-main-table-body-img">
                                <img class="chart-img" src="{{coverImg}}" alt="{{title}}">
                                <span>
                                    <div>{{title}}</div>
                                    <div class="chart-album-name">{{albumTitle}}</div>
                                </span>
                            </div>
                        </a>
                    </td>
                    <td><a href="/artists/{{artistId}}/songs">{{artistName}}</a></td>
                    <td>
                        <a href="#" class="play-btn" data-songId="{{songId}}" data-index="{{index}}" data-title="{{title}}" data-artist="{{artistName}}" data-cover="{{coverImg}}" data-music="{{musicFile}}">
                            <i class="fa-solid fa-play"></i>
                        </a>
                    </td>
                    <td><a href="#"><i class="fa-solid fa-list-ul"></i></a></td>
                    <td><a href="#"><i class="fa-solid fa-folder-plus"></i></a></td>
                    <td><a href="#"><i class="fa-solid fa-ellipsis-vertical"></i></a></td>
                </tr>
            {{/all.domesticChart}}
        </table>
        <div class="chart-more-button" id="load">
            더보기 <i class="fa-solid fa-chevron-down"></i>
        </div>
    </div>

    <div id="content4" class="chart-main tab-content">
        <div class="chart-header">
            <h3>해외 팝 차트</h3>
            <div>▷ 전체듣기</div>
        </div>
        <table class="chart-main-table">
            <tr class="chart-main-table-header">
                <th><input type="checkbox"></th>
                <th>순위</th>
                <th>곡/앨범</th>
                <th>아티스트</th>
                <th>듣기</th>
                <th>재생목록</th>
                <th>내 리스트</th>
                <th>더보기</th>
            </tr>
            {{#all.globalPopChart}}
                <tr class="chart-main-table-body">
                    <td><input type="checkbox" value="{{songId}}"></td>
                    <td>{{index}}</td>
                    <td>
                        <a href="/albums/{{albumId}}/list">
                            <div class="chart-main-table-body-img">
                                <img class="chart-img" src="{{coverImg}}" alt="{{title}}">
                                <span>
                                    <div>{{title}}</div>
                                    <div class="chart-album-name">{{albumTitle}}</div>
                                </span>
                            </div>
                        </a>
                    </td>
                    <td><a href="/artists/{{artistId}}/songs">{{artistName}}</a></td>
                    <td>
                        <a href="#" class="play-btn" data-songId="{{songId}}" data-index="{{index}}" data-title="{{title}}" data-artist="{{artistName}}" data-cover="{{coverImg}}" data-music="{{musicFile}}">
                            <i class="fa-solid fa-play"></i>
                        </a>
                    </td>
                    <td><a href="#"><i class="fa-solid fa-list-ul"></i></a></td>
                    <td><a href="#"><i class="fa-solid fa-folder-plus"></i></a></td>
                    <td><a href="#"><i class="fa-solid fa-ellipsis-vertical"></i></a></td>
                </tr>
            {{/all.globalPopChart}}
        </table>
        <div class="chart-more-button" id="load">
            더보기 <i class="fa-solid fa-chevron-down"></i>
        </div>
    </div>

    <div id="content5" class="chart-main tab-content">
    </div>

    <div id="content6" class="chart-main tab-content">
    </div>

    <div id="content7" class="chart-main tab-content">
    </div>

    <div id="content8" class="chart-main tab-content">
    </div>

    <div id="content9" class="chart-main tab-content">
    </div>

    <div id="content10" class="chart-main tab-content">
        <div class="chart-header">
            <h3>해외 힙합 차트</h3>
            <div>▷ 전체듣기</div>
        </div>
        <table class="chart-main-table">
            <tr class="chart-main-table-header">
                <th><input type="checkbox"></th>
                <th>순위</th>
                <th>곡/앨범</th>
                <th>아티스트</th>
                <th>듣기</th>
                <th>재생목록</th>
                <th>내 리스트</th>
                <th>더보기</th>
            </tr>
            {{#all.globalHipHopChart}}
                <tr class="chart-main-table-body">
                    <td><input type="checkbox" value="{{songId}}"></td>
                    <td>{{index}}</td>
                    <td>
                        <a href="/albums/{{albumId}}/list">
                            <div class="chart-main-table-body-img">
                                <img class="chart-img" src="{{coverImg}}" alt="{{title}}">
                                <span>
                                    <div>{{title}}</div>
                                    <div class="chart-album-name">{{albumTitle}}</div>
                                </span>
                            </div>
                        </a>
                    </td>
                    <td><a href="/artists/{{artistId}}/songs">{{artistName}}</a></td>
                    <td>
                        <a href="#" class="play-btn" data-songId="{{songId}}" data-index="{{index}}" data-title="{{title}}" data-artist="{{artistName}}" data-cover="{{coverImg}}" data-music="{{musicFile}}">
                            <i class="fa-solid fa-play"></i>
                        </a>
                    </td>
                    <td><a href="#"><i class="fa-solid fa-list-ul"></i></a></td>
                    <td><a href="#"><i class="fa-solid fa-folder-plus"></i></a></td>
                    <td><a href="#"><i class="fa-solid fa-ellipsis-vertical"></i></a></td>
                </tr>
            {{/all.globalHipHopChart}}
        </table>
        <div class="chart-more-button" id="load">
            더보기 <i class="fa-solid fa-chevron-down"></i>
        </div>
    </div>

    <div id="content11" class="chart-main tab-content">
    </div>

    <div id="content12" class="chart-main tab-content">
    </div>

    <div id="content13" class="chart-main tab-content">
    </div>

    <div id="content14" class="chart-main tab-content">
    </div>

    <div id="content15" class="chart-main tab-content">
    </div>

    <div id="content16" class="chart-main tab-content">
    </div>

    <div id="content17" class="chart-main tab-content">
    </div>

    <div id="content18" class="chart-main tab-content">
    </div>

</div>
<script type="module" src="/js/song-chart.js"></script>
<script>
    $(document).ready(function() {
        $('.play-btn').click(function(event) {
            event.preventDefault();

            // 데이터 가져오기
            var songData = {
                songId : $(this).data('songid'), // 데이터 속성 이름을 소문자로 변경
                index: $(this).data('index'),
                title: $(this).data('title'),
                artistName: $(this).data('artist'),
                coverImg: $(this).data('cover'),
                musicFile: $(this).data('music')
            };

            console.log("Song Data: ", songData);

            // Local Storage에 데이터 저장
            localStorage.setItem('currentSong', JSON.stringify(songData));

            // 새로운 팝업 창 열기
            window.open('/playlists/current', '플레이리스트', 'width=1200,height=700');
        });
    });
</script>

{{>layout/footer
